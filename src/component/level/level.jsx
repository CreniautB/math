import React, {useState} from 'react'
import Square from '../square/square'
import _ from "lodash";
import './level.css'

function Level() {

    const [tour, setTour] = useState(0)

    let list = [   
        ["99*0", 0],
        ["77/77",1],
        ["500/250",2],
        ["33/11",3],
        ["4*4/4",4],
        ["250/10/5",5],
        ["36/6",6],
        ["3*5-8",7],
        ["40/5",8],
        ["3*3 ",9],
        ["5+5",10],
        ["121/11",11],
        ["4*3",12],
        ["130/10",13],
        ["7*2",14],
        ["3*5 ",15],
        ["4*4 ",16],
        ["30-13",17],
        ["36/2",18],
        ["190/10",19],
        ["10*2",20],
        ["100-79",21],
        ["220*10Â %",22],
        ["100-77",23],
        ["8*3",24],
        ["5*5",25],
        ["13*2",26],
        ["50-23",27],
        ["14*2",28],
        ["40-11",29],
        ["10*3",30],
        ["40-9",31],
        ["8*4 ",32],
        ["100-67",33],
        ["17*2",34],
        ["7*5",35],
        ["6*6",36],
        ["60-23",37],
        ["76/2",38],
        ["4*10-1",39],
        ["8*5",40],
        ["6*6+5",41],
        ["8*5+2",42],
        ["6*7+1",43],
        ["8*6-4",44],
        ["9*5",45],
        ["6*7+4",46],
        ["6*7+5",47],
        ["6*8",48],
        ["100/2-1",49],
        ["200/4",50],
        ["100-49",51],
        ["10*5+2",52],
        ["25*2+3",53],
        ["100-46",54],
        ["550/10",55],
        ["5*11+1",56],
        ["9*6+3",57],
        ["6*10-2",58],
        ["7*10-11",59],
        ["6*10",60],
        ["9*7-2",61],
        ["8*8-2",62],
        ["100-37",63],
        ["9*7+1",64],
        ["15*5-10",65],
        ["660/10",66],
        ["6*10+7",67],
        ["9*7+5",68],
        ["10*7-1",69],
        ["7*10",70],
        ["100-29",71],
        ["8*9",72],
        ["10*7+3",73],
        ["100-26",74],
        ["6*10+15",75],
        ["38+38",76],
        ["8*10-3",77],
        ["39*2",78],
        ["8*8+15",79],
        ["8*10",80],
        ["9*10-9",81],
        ["41+41",82],
        ["41*2+1",83],
        ["9*9+3",84],
        ["100-15",85],
        ["172/2",86],
        ["200-113",87],
        ["44*2",88],
        ["9*10-1",89],
        ["9*10",90],
        ["100-9",91],
        ["46*2",92],
        ["200-107",93],
        ["9*9+13",94],
        ["300-205",95],
        ["110-14",96],
        ["300-203",97],
        ["49*2",98],
        ["9*9+18",99],
        ["1000/10 ",100],
        ["50*2+1",101],
        ["51*2",102],
        ["3*30+13",103],
        ["52*2",104],
        ["5*21",105],
        ["53+53",106],
        ["9*10+17",107],
        ["200-92",108],
        ["10*10+9",109]
      ]

      function randomList(list){
        for(var i =list.length-1 ; i>0 ;i--){
            var j = Math.floor( Math.random() * (i + 1) ); //random index
            [list[i],list[j]]=[list[j],list[i]]; // swap
        }
    }
    randomList(list);
   
    function getAnswer(num, e) {
        let question =  Number(list[tour][1])
        if(question === num){
            e.target.style.background="green"
        }
        else {
            e.target.style.background="red"
        }
        setTour(tour +1)
    }

    if (tour === 109 ){
        return( 
            <div>Vous etes pas ouf</div>
        )
    }

    return ( 

        <div className="mainLevel">
            <h1 className="calcul">{list[tour][0]}</h1>
            <div className="squareContainer">
                {_.times(110, (i) => (
                <Square key={i} num={i} getAnswer={getAnswer}/>
            ))}
            </div>
        </div>
    
    )
}


export default Level

